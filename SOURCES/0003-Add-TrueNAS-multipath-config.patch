From bd709621897bda8d9f14820fb3d52eecfe51facb Mon Sep 17 00:00:00 2001
From: Samuel Verschelde <stormi@laposte.net>
Date: Thu, 13 Aug 2020 15:26:43 +0200
Subject: [PATCH 003/178] Add TrueNAS multipath config

This was a patch added to the sm RPM git repo before we had this
forked git repo for sm in the xcp-ng github organisation.
---
 multipath/multipath.conf | 7 +++++++
 1 file changed, 7 insertions(+)

diff --git a/multipath/multipath.conf b/multipath/multipath.conf
index 5902a96..6dbd5bf 100644
--- a/multipath/multipath.conf
+++ b/multipath/multipath.conf
@@ -154,4 +154,11 @@ devices {
         rr_min_io_rq                1
         rr_weight                   uniform
     }
+	device {
+		vendor			"TrueNAS"
+		product			"iSCSI Disk"
+		hardware_handler	"1 alua"
+		path_grouping_policy	group_by_prio
+		prio			alua
+	}
 }
