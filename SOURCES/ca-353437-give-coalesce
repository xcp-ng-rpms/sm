CA-353437: give coalesce tracker grace iterations to make progress

From: Mark Syms <mark.syms@citrix.com>

Signed-off-by: Mark Syms <mark.syms@citrix.com>
---
 drivers/cleanup.py |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

diff --git a/drivers/cleanup.py b/drivers/cleanup.py
index 7082b52..fc5954a 100755
--- a/drivers/cleanup.py
+++ b/drivers/cleanup.py
@@ -1832,6 +1832,7 @@ class SR:
         self.deleteVDI(vdi)
 
     class CoalesceTracker:
+        GRACE_ITERATIONS = 1
         MAX_ITERATIONS_NO_PROGRESS = 3
         MAX_ITERATIONS = 10
         MAX_INCREASE_FROM_MINIMUM = 1.2
@@ -1885,7 +1886,8 @@ class SR:
                 res = True
 
             maxSizeFromMin = self.MAX_INCREASE_FROM_MINIMUM * self.minSize
-            if (not res) and (curSize > maxSizeFromMin):
+            if (self.its > self.GRACE_ITERATIONS and
+                (not res) and (curSize > maxSizeFromMin)):
                 self.reason = "Unexpected bump in size," \
                               " compared to minimum acheived"
                 res = True
