From 1d5756f4f411aa781e0035c442fad8d138a6470d Mon Sep 17 00:00:00 2001
From: Ronan Abhamon <ronan.abhamon@vates.fr>
Date: Thu, 17 Nov 2022 15:46:02 +0100
Subject: [PATCH 093/177] fix(LinstorSR): avoid introduction of DELETED volumes

Signed-off-by: Ronan Abhamon <ronan.abhamon@vates.fr>
---
 drivers/LinstorSR.py | 3 +++
 1 file changed, 3 insertions(+)

diff --git a/drivers/LinstorSR.py b/drivers/LinstorSR.py
index ba284524..9e5b3cda 100755
--- a/drivers/LinstorSR.py
+++ b/drivers/LinstorSR.py
@@ -1170,6 +1170,9 @@ class LinstorSR(SR.SR):
                     )
                     continue
 
+                if vdi_uuid.startswith('DELETED_'):
+                    continue
+
                 util.SMlog(
                     'Trying to introduce VDI {} as it is present in '
                     'LINSTOR and not in XAPI...'
